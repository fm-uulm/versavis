#include "ClockEstimator.h"
#include <math.h>
void predictX(double dt, double u1, double x1, double x2, double x3, double x4, double *out_856630842665997621) {
   out_856630842665997621[0] = dt*x2 + dt*x4*(0.0032258064516129*u1 - x3) + x1;
   out_856630842665997621[1] = x2 + x4*(0.0032258064516129*u1 - x3);
   out_856630842665997621[2] = x3;
   out_856630842665997621[3] = x4;
}
void predictP(double dt, double p11, double p12, double p13, double p14, double p21, double p22, double p23, double p24, double p31, double p32, double p33, double p34, double p41, double p42, double p43, double p44, double u1, double var_x1, double var_x2, double var_x3, double var_x4, double x3, double x4, double *out_1737487658341360313) {
   out_1737487658341360313[0] = dt*p21 - dt*p31*x4 + dt*p41*(0.0032258064516129*u1 - x3) - dt*x4*(dt*p23 - dt*p33*x4 + dt*p43*(0.0032258064516129*u1 - x3) + p13) + dt*(0.0032258064516129*u1 - x3)*(dt*p24 - dt*p34*x4 + dt*p44*(0.0032258064516129*u1 - x3) + p14) + dt*(dt*p22 - dt*p32*x4 + dt*p42*(0.0032258064516129*u1 - x3) + p12) + p11 + var_x1;
   out_1737487658341360313[1] = dt*p22 - dt*p32*x4 + dt*p42*(0.0032258064516129*u1 - x3) + p12 - x4*(dt*p23 - dt*p33*x4 + dt*p43*(0.0032258064516129*u1 - x3) + p13) + (0.0032258064516129*u1 - x3)*(dt*p24 - dt*p34*x4 + dt*p44*(0.0032258064516129*u1 - x3) + p14);
   out_1737487658341360313[2] = dt*p23 - dt*p33*x4 + dt*p43*(0.0032258064516129*u1 - x3) + p13;
   out_1737487658341360313[3] = dt*p24 - dt*p34*x4 + dt*p44*(0.0032258064516129*u1 - x3) + p14;
   out_1737487658341360313[4] = -dt*x4*(p23 - p33*x4 + p43*(0.0032258064516129*u1 - x3)) + dt*(0.0032258064516129*u1 - x3)*(p24 - p34*x4 + p44*(0.0032258064516129*u1 - x3)) + dt*(p22 - p32*x4 + p42*(0.0032258064516129*u1 - x3)) + p21 - p31*x4 + p41*(0.0032258064516129*u1 - x3);
   out_1737487658341360313[5] = p22 - p32*x4 + p42*(0.0032258064516129*u1 - x3) + var_x2 - x4*(p23 - p33*x4 + p43*(0.0032258064516129*u1 - x3)) + (0.0032258064516129*u1 - x3)*(p24 - p34*x4 + p44*(0.0032258064516129*u1 - x3));
   out_1737487658341360313[6] = p23 - p33*x4 + p43*(0.0032258064516129*u1 - x3);
   out_1737487658341360313[7] = p24 - p34*x4 + p44*(0.0032258064516129*u1 - x3);
   out_1737487658341360313[8] = dt*p32 - dt*p33*x4 + dt*p34*(0.0032258064516129*u1 - x3) + p31;
   out_1737487658341360313[9] = p32 - p33*x4 + p34*(0.0032258064516129*u1 - x3);
   out_1737487658341360313[10] = p33 + var_x3;
   out_1737487658341360313[11] = p34;
   out_1737487658341360313[12] = dt*p42 - dt*p43*x4 + dt*p44*(0.0032258064516129*u1 - x3) + p41;
   out_1737487658341360313[13] = p42 - p43*x4 + p44*(0.0032258064516129*u1 - x3);
   out_1737487658341360313[14] = p43;
   out_1737487658341360313[15] = p44 + var_x4;
}
void computeResidual(double x1, double z1, double *out_4198750698365820525) {
   out_4198750698365820525[0] = -x1 + z1;
}
void computeSInverse(double p11, double var_z1, double *out_4349681001235345741) {
   out_4349681001235345741[0] = 1.0/(p11 + var_z1);
}
void computeK(double p11, double p21, double p31, double p41, double s_inv11, double *out_7426116661966127333) {
   out_7426116661966127333[0] = p11*s_inv11;
   out_7426116661966127333[1] = p21*s_inv11;
   out_7426116661966127333[2] = p31*s_inv11;
   out_7426116661966127333[3] = p41*s_inv11;
}
void estimateX(double k1, double k2, double k3, double k4, double x1, double x2, double x3, double x4, double z1, double *out_5254171509282157043) {
   out_5254171509282157043[0] = k1*(-x1 + z1) + x1;
   out_5254171509282157043[1] = k2*(-x1 + z1) + x2;
   out_5254171509282157043[2] = k3*(-x1 + z1) + x3;
   out_5254171509282157043[3] = k4*(-x1 + z1) + x4;
}
void estimateP(double k1, double k2, double k3, double k4, double p11, double p12, double p13, double p14, double p21, double p22, double p23, double p24, double p31, double p32, double p33, double p34, double p41, double p42, double p43, double p44, double *out_4625592411420530874) {
   out_4625592411420530874[0] = p11*(-k1 + 1);
   out_4625592411420530874[1] = p12*(-k1 + 1);
   out_4625592411420530874[2] = p13*(-k1 + 1);
   out_4625592411420530874[3] = p14*(-k1 + 1);
   out_4625592411420530874[4] = -k2*p11 + p21;
   out_4625592411420530874[5] = -k2*p12 + p22;
   out_4625592411420530874[6] = -k2*p13 + p23;
   out_4625592411420530874[7] = -k2*p14 + p24;
   out_4625592411420530874[8] = -k3*p11 + p31;
   out_4625592411420530874[9] = -k3*p12 + p32;
   out_4625592411420530874[10] = -k3*p13 + p33;
   out_4625592411420530874[11] = -k3*p14 + p34;
   out_4625592411420530874[12] = -k4*p11 + p41;
   out_4625592411420530874[13] = -k4*p12 + p42;
   out_4625592411420530874[14] = -k4*p13 + p43;
   out_4625592411420530874[15] = -k4*p14 + p44;
}
